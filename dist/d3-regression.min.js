!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):(n=n||self,r(n.d3=n.d3||{}))}(this,function(n){"use strict";function r(n,r){return n.sort(function(n,t){return r(n)-r(t)})}function t(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0,v=0;v<n.length;v++){var l=n[v],g=e(l),M=o(l);a+=M,i+=g*g*M,f+=M*Math.log(M),h+=g*M*Math.log(M),c+=g*M}for(var p=a*i-c*c,s=Math.exp((i*f-c*h)/p),d=(a*h-c*f)/p,w=function(n){return s*Math.exp(d*n)},b=[],x=0,y=0,m=0;m<u;m++){var q=n[m],S=e(q),L=o(q),j=w(S);x+=Math.pow(L-j,2),y+=Math.pow(L-a/u,2),b[m]=[S,j]}var k=1-x/y;if(t){var P=t[0],_=t[1];P<e(n[0])&&b.unshift([P,w(P)]),_>e(n[n.length-1])&&b.push([_,w(_)])}return b.a=s,b.b=d,b.rSquared=k,b.predict=w,b}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}function e(){function n(n){for(var o=n.length,u=0,a=0,i=0,f=0,h=r?+r[0]:1/0,c=r?+r[1]:-(1/0),v=0;v<o;v++){var l=t(n[v]),g=e(n[v]);u+=l,a+=g,i+=l*g,f+=l*l,r||(l<h&&(h=l),l>c&&(c=l))}for(var M=o*i,p=u*a,s=o*f,d=u*u,w=(M-p)/(s-d),b=a,x=w*u,y=(b-x)/o,m=function(n){return w*n+y},q=0,S=0,L=0;L<o;L++){var j=n[L],k=t(j),P=e(j),_=m(k);q+=Math.pow(P-_,2),S+=Math.pow(P-a/o,2)}var B=1-q/S,E=[[h,h*w+y],[c,c*w+y]];return E.a=w,E.b=y,E.rSquared=B,E.predict=m,E}var r,t=function(n){return n[0]},e=function(n){return n[1]};return n.domain=function(t){return arguments.length?(r=t,n):r},n.x=function(r){return arguments.length?(t=r,n):t},n.y=function(r){return arguments.length?(e=r,n):e},n}function o(n){n.sort(function(n,r){return n-r});var r=n.length/2;return r%1==0?(n[r-1]+n[r])/2:n[Math.floor(r)]}function u(){function n(n){r(n,t);for(var l=n.length,g=[],M=[],p=[],s=0;s<l;s++){p[s]=1;var d=n[s];g[s]=t(d),M[s]=e(d)}a(g),a(M),a(p),i(g);var w=Math.floor(u*l);if(w<2)throw{error:"Bandwidth too small."};for(var b=[],x=[],y=[],m=0;m<l;m++)b[m]=0,x[m]=0,y[m]=1;for(var q=-1;++q<=c;){for(var S=[0,w-1],L=void 0,j=0;j<l;j++){L=g[j],j>0&&h(g,p,j,S);for(var k=S[0],P=S[1],_=g[j]-g[k]>g[P]-g[j]?k:P,B=0,E=0,F=0,O=0,Q=0,z=Math.abs(1/(g[_]-L)),A=k;A<=P;++A){var C=g[A],D=M[A],G=A<j?L-C:C-L,H=f(G*z)*y[A]*p[A],I=C*H;B+=H,E+=I,F+=C*I,O+=D*H,Q+=D*I}var J=E/B,K=O/B,N=Q/B,R=F/B,T=Math.sqrt(Math.abs(R-J*J))<v?0:(N-J*K)/(R-J*J),U=K-T*J;b[j]=T*L+U,x[j]=Math.abs(M[j]-b[j])}if(q===c)break;var V=o(x);if(Math.abs(V)<v)break;for(var W=void 0,X=void 0,Y=0;Y<l;Y++)W=x[Y]/(6*V),y[Y]=W>=1?0:(X=1-W*W)*X}return b.map(function(n,r){return[g[r],n]})}var t=function(n){return n[0]},e=function(n){return n[1]},u=.3,c=2,v=1e-12;return n.bandwidth=function(r){return arguments.length?(u=r,n):u},n.x=function(r){return arguments.length?(t=r,n):t},n.y=function(r){return arguments.length?(e=r,n):e},n}function a(n){for(var r=0,t=n.length;r<t;r++)if(!isFinite(n[r]))return!1;return!0}function i(n){for(var r=0,t=n.length;r<t;r++)if(n[r-1]>=n[r])return!1;return!0}function f(n){return(n=1-n*n*n)*n*n}function h(n,r,t,e){var o=e[0],u=e[1],a=c(r,u);if(a<n.length&&n[a]-n[t]<n[t]-n[o]){var i=c(r,o);e[0]=i,e[1]=a}}function c(n,r){for(var t=r+1;t<n.length&&0===n[t];)t++;return t}function v(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0;c<u;c++){var v=n[c],l=e(v),g=o(v);a+=Math.log(l),i+=g*Math.log(l),f+=g,h+=Math.pow(Math.log(l),2)}for(var M=(u*i-f*a)/(u*h-a*a),p=(f-M*a)/u,s=function(n){return M*Math.log(n)+p},d=[],w=0,b=0,x=0;x<u;x++){var y=n[x],m=e(y),q=o(y),S=s(m);w+=Math.pow(q-S,2),b+=Math.pow(q-f/u,2),d[x]=[m,S]}var L=1-w/b;if(t){var j=t[0],k=t[1];j<e(n[0])&&d.unshift([j,s(j)]),k>e(n[n.length-1])&&d.push([k,s(k)])}return d.a=M,d.b=p,d.rSquared=L,d.predict=s,d}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}function l(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0,v=0;v<u;v++){var l=n[v],g=e(l),M=o(l);a+=Math.log(g),i+=Math.log(M)*Math.log(g),f+=Math.log(M),h+=Math.pow(Math.log(g),2),c+=M}for(var p=(u*i-a*f)/(u*h-Math.pow(a,2)),s=Math.exp((f-p*a)/u),d=function(n){return s*Math.pow(n,p)},w=[],b=0,x=0,y=0;y<u;y++){var m=n[y],q=e(m),S=o(m),L=d(q);b+=Math.pow(S-L,2),x+=Math.pow(S-c/u,2),w[y]=[q,L]}var j=1-b/x;if(t){var k=t[0],P=t[1];k<e(n[0])&&w.unshift([k,d(k)]),P>e(n[n.length-1])&&w.push([P,d(P)])}return w.a=s,w.b=p,w.rSquared=j,w.predict=d,w}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}function g(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0,v=0,l=0,g=0;g<u;g++){var M=n[g],p=e(M),s=o(M),d=Math.pow(p,2);a+=p,i+=s,f+=d,h+=Math.pow(p,3),c+=Math.pow(p,4),v+=p*s,l+=d*s}for(var w=f-Math.pow(a,2)/u,b=v-a*i/u,x=h-f*a/u,y=l-f*i/u,m=c-Math.pow(f,2)/u,q=(y*w-b*x)/(w*m-Math.pow(x,2)),S=(b*m-y*x)/(w*m-Math.pow(x,2)),L=i/u-S*(a/u)-q*(f/u),j=function(n){return q*Math.pow(n,2)+S*n+L},k=[],P=0,_=0,B=0;B<u;B++){var E=n[B],F=e(E),O=o(E),Q=j(F);P+=Math.pow(O-Q,2),_+=Math.pow(O-i/u,2),k[B]=[F,Q]}var z=1-P/_;if(t){var A=t[0],C=t[1];A<e(n[0])&&k.unshift([A,j(A)]),C>e(n[n.length-1])&&k.push([C,j(C)])}return k.a=q,k.b=S,k.c=L,k.rSquared=z,k.predict=j,k}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}n.regressionExp=t,n.regressionLinear=e,n.regressionLoess=u,n.regressionLog=v,n.regressionPow=l,n.regressionQuad=g,Object.defineProperty(n,"__esModule",{value:!0})});
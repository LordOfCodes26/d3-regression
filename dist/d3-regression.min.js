!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):(n=n||self,r(n.d3=n.d3||{}))}(this,function(n){"use strict";function r(n,r){return n.sort(function(n,t){return r(n)-r(t)})}function t(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0,v=0;v<n.length;v++){var l=n[v],g=e(l),p=o(l);a+=p,i+=g*g*p,f+=p*Math.log(p),h+=g*p*Math.log(p),c+=g*p}for(var s=a*i-c*c,M=Math.exp((i*f-c*h)/s),d=(a*h-c*f)/s,w=function(n){return M*Math.exp(d*n)},b=[],x=0,y=0,m=0;m<u;m++){var q=n[m],S=e(q),L=o(q),j=w(S);x+=Math.pow(L-j,2),y+=Math.pow(L-a/u,2),b[m]=[S,j]}var k=1-x/y;if(t){var _=t[0],B=t[1];_!==e(n[0])&&b.unshift([_,w(_)]),B!==e(n[n.length-1])&&b.push([B,w(B)])}return b.a=M,b.b=d,b.rSquared=k,b.predict=w,b}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}function e(){function n(n){for(var o=n.length,u=0,a=0,i=0,f=0,h=r?+r[0]:1/0,c=r?+r[1]:-(1/0),v=0;v<o;v++){var l=t(n[v]),g=e(n[v]);u+=l,a+=g,i+=l*g,f+=l*l,r||(l<h&&(h=l),l>c&&(c=l))}for(var p=o*i,s=u*a,M=o*f,d=u*u,w=(p-s)/(M-d),b=a,x=w*u,y=(b-x)/o,m=function(n){return w*n+y},q=0,S=0,L=0;L<o;L++){var j=n[L],k=t(j),_=e(j),B=m(k);q+=Math.pow(_-B,2),S+=Math.pow(_-a/o,2)}var E=1-q/S,F=[[h,h*w+y],[c,c*w+y]];return F.a=w,F.b=y,F.rSquared=E,F.predict=m,F}var r,t=function(n){return n[0]},e=function(n){return n[1]};return n.domain=function(t){return arguments.length?(r=t,n):r},n.x=function(r){return arguments.length?(t=r,n):t},n.y=function(r){return arguments.length?(e=r,n):e},n}function o(n){n.sort(function(n,r){return n-r});var r=n.length/2;return r%1==0?(n[r-1]+n[r])/2:n[Math.floor(r)]}function u(){function n(n){r(n,t);for(var l=n.length,g=[],p=[],s=[],M=0;M<l;M++){s[M]=1;var d=n[M];g[M]=t(d),p[M]=e(d)}a(g),a(p),a(s),i(g);var w=Math.floor(u*l);if(w<2)throw{error:"Bandwidth too small."};for(var b=[],x=[],y=[],m=0;m<l;m++)b[m]=0,x[m]=0,y[m]=1;for(var q=-1;++q<=c;){for(var S=[0,w-1],L=void 0,j=0;j<l;j++){L=g[j],j>0&&h(g,s,j,S);for(var k=S[0],_=S[1],B=g[j]-g[k]>g[_]-g[j]?k:_,E=0,F=0,O=0,P=0,Q=0,z=Math.abs(1/(g[B]-L)),A=k;A<=_;++A){var C=g[A],D=p[A],G=A<j?L-C:C-L,H=f(G*z)*y[A]*s[A],I=C*H;E+=H,F+=I,O+=C*I,P+=D*H,Q+=D*I}var J=F/E,K=P/E,N=Q/E,R=O/E,T=Math.sqrt(Math.abs(R-J*J))<v?0:(N-J*K)/(R-J*J),U=K-T*J;b[j]=T*L+U,x[j]=Math.abs(p[j]-b[j])}if(q===c)break;var V=o(x);if(Math.abs(V)<v)break;for(var W=void 0,X=void 0,Y=0;Y<l;Y++)W=x[Y]/(6*V),y[Y]=W>=1?0:(X=1-W*W)*X}return b.map(function(n,r){return[g[r],n]})}var t=function(n){return n[0]},e=function(n){return n[1]},u=.3,c=2,v=1e-12;return n.bandwidth=function(r){return arguments.length?(u=r,n):u},n.x=function(r){return arguments.length?(t=r,n):t},n.y=function(r){return arguments.length?(e=r,n):e},n}function a(n){for(var r=0,t=n.length;r<t;r++)if(!isFinite(n[r]))return!1;return!0}function i(n){for(var r=0,t=n.length;r<t;r++)if(n[r-1]>=n[r])return!1;return!0}function f(n){return(n=1-n*n*n)*n*n}function h(n,r,t,e){var o=e[0],u=e[1],a=c(r,u);if(a<n.length&&n[a]-n[t]<n[t]-n[o]){var i=c(r,o);e[0]=i,e[1]=a}}function c(n,r){for(var t=r+1;t<n.length&&0===n[t];)t++;return t}function v(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0;c<u;c++){var v=n[c],l=e(v),g=o(v);a+=Math.log(l),i+=g*Math.log(l),f+=g,h+=Math.pow(Math.log(l),2)}for(var p=(u*i-f*a)/(u*h-a*a),s=(f-p*a)/u,M=function(n){return p*Math.log(n)+s},d=[],w=0,b=0,x=0;x<u;x++){var y=n[x],m=e(y),q=o(y),S=M(m);w+=Math.pow(q-S,2),b+=Math.pow(q-f/u,2),d[x]=[m,S]}var L=1-w/b;if(t){var j=t[0],k=t[1];j!==e(n[0])&&d.unshift([j,M(j)]),k!==e(n[n.length-1])&&d.push([k,M(k)])}return d.a=p,d.b=s,d.rSquared=L,d.predict=M,d}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}function l(){function n(n){r(n,e);for(var u=n.length,a=0,i=0,f=0,h=0,c=0,v=0,l=0,g=0;g<u;g++){var p=n[g],s=e(p),M=o(p),d=Math.pow(s,2);a+=s,i+=M,f+=d,h+=Math.pow(s,3),c+=Math.pow(s,4),v+=s*M,l+=d*M}for(var w=f-Math.pow(a,2)/u,b=v-a*i/u,x=h-f*a/u,y=l-f*i/u,m=c-Math.pow(f,2)/u,q=(y*w-b*x)/(w*m-Math.pow(x,2)),S=(b*m-y*x)/(w*m-Math.pow(x,2)),L=i/u-S*(a/u)-q*(f/u),j=function(n){return q*Math.pow(n,2)+S*n+L},k=[],_=0,B=0,E=0;E<u;E++){var F=n[E],O=e(F),P=o(F),Q=j(O);_+=Math.pow(P-Q,2),B+=Math.pow(P-i/u,2),k[E]=[O,Q]}var z=1-_/B;if(t){var A=t[0],C=t[1];A!==e(n[0])&&k.unshift([A,j(A)]),C!==e(n[n.length-1])&&k.push([C,j(C)])}return k.a=q,k.b=S,k.c=L,k.rSquared=z,k.predict=j,k}var t,e=function(n){return n[0]},o=function(n){return n[1]};return n.domain=function(r){return arguments.length?(t=r,n):t},n.x=function(r){return arguments.length?(e=r,n):e},n.y=function(r){return arguments.length?(o=r,n):o},n}n.regressionExp=t,n.regressionLinear=e,n.regressionLoess=u,n.regressionLog=v,n.regressionQuad=l,Object.defineProperty(n,"__esModule",{value:!0})});
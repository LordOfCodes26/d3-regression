!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):(r=r||self,n(r.d3=r.d3||{}))}(this,function(r){"use strict";function n(){function r(r){for(var o=r.length,u=0,a=0,f=0,i=0,h=n?+n[0]:1/0,c=n?+n[1]:-(1/0),v=0;v<o;v++){var s=t(r[v]),l=e(r[v]);u+=s,a+=l,f+=s*l,i+=s*s,n||(s<h&&(h=s),s>c&&(c=s))}for(var p=o*f,d=u*a,g=o*i,M=u*u,w=(p-d)/(g-M),b=a,y=w*u,m=(b-y)/o,x=0,q=0,j=0;j<o;j++){var k=r[j],L=t(k),S=e(k),_=function(r){return w*r+m}(L);x+=Math.pow(S-_,2),q+=Math.pow(S-a/o,2)}var B=1-x/q,F=[[h,h*w+m],[c,c*w+m]];return F.slope=w,F.intercept=m,F.rSquared=B,F}var n,t=function(r){return r[0]},e=function(r){return r[1]};return r.domain=function(t){return arguments.length?(n=t,r):n},r.x=function(n){return arguments.length?(t=n,r):t},r.y=function(n){return arguments.length?(e=n,r):e},r}function t(r){r.sort(function(r,n){return r-n});var n=r.length/2;return n%1==0?(r[n-1]+r[n])/2:r[Math.floor(n)]}function e(){function r(r){for(var v=r.length,s=[],l=[],p=[],d=0;d<v;d++){p[d]=1;var g=r[d];s[d]=n(g),l[d]=e(g)}o(s),o(l),o(p),u(s);var M=Math.floor(i*v);if(M<2)throw{error:"Bandwidth too small."};for(var w=[],b=[],y=[],m=0;m<v;m++)w[m]=0,b[m]=0,y[m]=1;for(var x=-1;++x<=h;){for(var q=[0,M-1],j=void 0,k=0;k<v;k++){j=s[k],k>0&&f(s,p,k,q);for(var L=q[0],S=q[1],_=s[k]-s[L]>s[S]-s[k]?L:S,B=0,F=0,O=0,P=0,Q=0,z=Math.abs(1/(s[_]-j)),A=L;A<=S;++A){var C=s[A],D=l[A],E=A<k?j-C:C-j,G=a(E*z)*y[A]*p[A],H=C*G;B+=G,F+=H,O+=C*H,P+=D*G,Q+=D*H}var I=F/B,J=P/B,K=Q/B,N=O/B,R=Math.sqrt(Math.abs(N-I*I))<c?0:(K-I*J)/(N-I*I),T=J-R*I;w[k]=R*j+T,b[k]=Math.abs(l[k]-w[k])}if(x===h)break;var U=t(b);if(Math.abs(U)<c)break;for(var V=void 0,W=void 0,X=0;X<v;X++)V=b[X]/(6*U),y[X]=V>=1?0:(W=1-V*V)*W}return w.map(function(r,n){return[s[n],r]})}var n=function(r){return r[0]},e=function(r){return r[1]},i=.3,h=2,c=1e-12;return r.bandwidth=function(n){return arguments.length?(i=n,r):i},r.x=function(t){return arguments.length?(n=t,r):n},r.y=function(n){return arguments.length?(e=n,r):e},r}function o(r){for(var n=0,t=r.length;n<t;n++)if(!isFinite(r[n]))return!1;return!0}function u(r){for(var n=0,t=r.length;n<t;n++)if(r[n-1]>=r[n])return!1;return!0}function a(r){return(r=1-r*r*r)*r*r}function f(r,n,t,e){var o=e[0],u=e[1],a=i(n,u);if(a<r.length&&r[a]-r[t]<r[t]-r[o]){var f=i(n,o);e[0]=f,e[1]=a}}function i(r,n){for(var t=n+1;t<r.length&&0===r[t];)t++;return t}function h(){function r(r){for(var o=r.length,u=0,a=0,f=0,i=0,h=0,c=0,v=0,s=0;s<o;s++){var l=r[s],p=t(l),d=e(l),g=Math.pow(p,2);u+=p,a+=d,f+=g,i+=Math.pow(p,3),h+=Math.pow(p,4),c+=p*d,v+=g*d}for(var M=f-Math.pow(u,2)/o,w=c-u*a/o,b=i-f*u/o,y=v-f*a/o,m=h-Math.pow(f,2)/o,x=(y*M-w*b)/(M*m-Math.pow(b,2)),q=(w*m-y*b)/(M*m-Math.pow(b,2)),j=a/o-q*(u/o)-x*(f/o),k=function(r){return x*Math.pow(r,2)+q*r+j},L=[],S=0,_=0,B=0;B<o;B++){var F=r[B],O=t(F),P=e(F),Q=k(O);S+=Math.pow(P-Q,2),_+=Math.pow(P-a/o,2),L.push([O,Q])}var z=1-S/_;if(n){var A=n[0],C=n[1];L.unshift([A,k(A)]),L.push([C,k(C)])}return L.a=x,L.b=q,L.c=j,L.rSquared=z,L}var n,t=function(r){return r[0]},e=function(r){return r[1]};return r.domain=function(t){return arguments.length?(n=t,r):n},r.x=function(n){return arguments.length?(t=n,r):t},r.y=function(n){return arguments.length?(e=n,r):e},r}r.regressionLinear=n,r.regressionLoess=e,r.regressionQuadratic=h,Object.defineProperty(r,"__esModule",{value:!0})});
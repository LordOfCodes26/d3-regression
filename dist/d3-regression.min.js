!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):(n=n||self,r(n.d3=n.d3||{}))}(this,function(n){"use strict";function r(){function n(n){for(var o=n.length,u=0,a=0,f=0,i=0,h=r?+r[0]:1/0,c=r?+r[1]:-(1/0),v=0;v<o;v++){var s=t(n[v]),l=e(n[v]);u+=s,a+=l,f+=s*l,i+=s*s,r||(s<h&&(h=s),s>c&&(c=s))}var d=o*f,p=u*a,g=o*i,M=u*u,w=(d-p)/(g-M),b=a,y=w*u,m=(b-y)/o,x=[[h,h*w+m],[c,c*w+m]];return x.slope=w,x.intercept=m,x}var r,t=function(n){return n[0]},e=function(n){return n[1]};return n.domain=function(t){return arguments.length?(r=t,n):r},n.x=function(r){return arguments.length?(t=r,n):t},n.y=function(r){return arguments.length?(e=r,n):e},n}function t(n){n.sort(function(n,r){return n-r});var r=n.length/2;return r%1==0?(n[r-1]+n[r])/2:n[Math.floor(r)]}function e(){function n(n){for(var v=n.length,s=[],l=[],d=[],p=0;p<v;p++){d[p]=1;var g=n[p];s[p]=r(g),l[p]=e(g)}o(s),o(l),o(d),u(s);var M=Math.floor(i*v);if(M<2)throw{error:"Bandwidth too small."};for(var w=[],b=[],y=[],m=0;m<v;m++)w[m]=0,b[m]=0,y[m]=1;for(var x=-1;++x<=h;){for(var j=[0,M-1],k=void 0,q=0;q<v;q++){k=s[q],q>0&&f(s,d,q,j);for(var L=j[0],_=j[1],B=s[q]-s[L]>s[_]-s[q]?L:_,F=0,O=0,P=0,Q=0,S=0,z=Math.abs(1/(s[B]-k)),A=L;A<=_;++A){var C=s[A],D=l[A],E=A<q?k-C:C-k,G=a(E*z)*y[A]*d[A],H=C*G;F+=G,O+=H,P+=C*H,Q+=D*G,S+=D*H}var I=O/F,J=Q/F,K=S/F,N=P/F,R=Math.sqrt(Math.abs(N-I*I))<c?0:(K-I*J)/(N-I*I),T=J-R*I;w[q]=R*k+T,b[q]=Math.abs(l[q]-w[q])}if(x===h)break;var U=t(b);if(Math.abs(U)<c)break;for(var V=void 0,W=void 0,X=0;X<v;X++)V=b[X]/(6*U),y[X]=V>=1?0:(W=1-V*V)*W}return w.map(function(n,r){return[s[r],n]})}var r=function(n){return n[0]},e=function(n){return n[1]},i=.3,h=2,c=1e-12;return n.bandwidth=function(r){return arguments.length?(i=r,n):i},n.x=function(t){return arguments.length?(r=t,n):r},n.y=function(r){return arguments.length?(e=r,n):e},n}function o(n){for(var r=0,t=n.length;r<t;r++)if(!isFinite(n[r]))return!1;return!0}function u(n){for(var r=0,t=n.length;r<t;r++)if(n[r-1]>=n[r])return!1;return!0}function a(n){return(n=1-n*n*n)*n*n}function f(n,r,t,e){var o=e[0],u=e[1],a=i(r,u);if(a<n.length&&n[a]-n[t]<n[t]-n[o]){var f=i(r,o);e[0]=f,e[1]=a}}function i(n,r){for(var t=r+1;t<n.length&&0===n[t];)t++;return t}function h(){function n(n){for(var o=n.length,u=0,a=0,f=0,i=0,h=0,c=0,v=0,s=0;s<o;s++){var l=n[s],d=t(l),p=e(l),g=Math.pow(d,2);u+=d,a+=p,f+=g,i+=Math.pow(d,3),h+=Math.pow(d,4),c+=d*p,v+=g*p}for(var M=f-Math.pow(u,2)/o,w=c-u*a/o,b=i-f*u/o,y=v-f*a/o,m=h-Math.pow(f,2)/o,x=(y*M-w*b)/(M*m-Math.pow(b,2)),j=(w*m-y*b)/(M*m-Math.pow(b,2)),k=a/o-j*(u/o)-x*(f/o),q=function(n){return x*Math.pow(n,2)+j*n+k},L=[],_=0,B=0,F=0;F<o;F++){var O=n[F],P=t(O),Q=e(O),S=q(P);_+=Math.pow(Q-S,2),B+=Math.pow(Q-a/o,2),L.push([P,S])}var z=1-_/B;if(r){var A=r[0],C=r[1];L.unshift([A,q(A)]),L.push([C,q(C)])}return L.a=x,L.b=j,L.c=k,L.rSquared=z,L}var r,t=function(n){return n[0]},e=function(n){return n[0]};return n.domain=function(t){return arguments.length?(r=t,n):r},n.x=function(r){return arguments.length?(t=r,n):t},n.y=function(r){return arguments.length?(e=r,n):e},n}n.regressionLinear=r,n.regressionLoess=e,n.regressionQuadratic=h,Object.defineProperty(n,"__esModule",{value:!0})});